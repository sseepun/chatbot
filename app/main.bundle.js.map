{"version":3,"sources":["./src/$_lazy_route_resource lazy","./src/app/app.component.css","./src/app/app.component.html","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/chatbot/chatbot.component.css","./src/app/chatbot/chatbot.component.html","./src/app/chatbot/chatbot.component.ts","./src/app/services/chat.service.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,4E;;;;;;;ACVA,kCAAkC,oBAAoB,kBAAkB,mBAAmB,KAAK,C;;;;;;;ACAhG,uF;;;;;;;;;;;;;;;;ACAA,8EAA0C;AAO1C;IAAA;IAEA,CAAC;IAFY,YAAY;QALxB,gBAAS,CAAC;YACT,QAAQ,EAAE,UAAU;;;SAGrB,CAAC;OACW,YAAY,CAExB;IAAD,mBAAC;CAAA;AAFY,oCAAY;;;;;;;;;;;;;;;;;ACPzB,kHAA0D;AAC1D,8EAAyC;AAEzC,WAAW;AACX,+EAAsD;AAEtD,aAAa;AACb,wEAA+C;AAC/C,wFAA+D;AAgB/D;IAAA;IAAyB,CAAC;IAAb,SAAS;QAbrB,eAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,4BAAY;gBACZ,oCAAgB;aACjB;YACD,OAAO,EAAE;gBACP,gCAAa;aACd;YACD,SAAS,EAAE;gBACT,0BAAW;aACZ;YACD,SAAS,EAAE,CAAC,4BAAY,CAAC;SAC1B,CAAC;OACW,SAAS,CAAI;IAAD,gBAAC;CAAA;AAAb,8BAAS;;;;;;;;ACxBtB,6BAA6B,mBAAmB,sBAAsB,KAAK,gBAAgB,oBAAoB,wBAAwB,wBAAwB,yBAAyB,KAAK,gBAAgB,2BAA2B,uBAAuB,wBAAwB,4BAA4B,yBAAyB,KAAK,cAAc,yBAAyB,yBAAyB,uBAAuB,KAAK,yBAAyB,oBAAoB,wCAAwC,wCAAwC,2BAA2B,yBAAyB,kCAAkC,4BAA4B,KAAK,kBAAkB,mBAAmB,wBAAwB,yBAAyB,4BAA4B,2BAA2B,0BAA0B,KAAK,uBAAuB,oBAAoB,4BAA4B,KAAK,qBAAqB,qBAAqB,wBAAwB,4BAA4B,oBAAoB,KAAK,eAAe,iCAAiC,kCAAkC,4BAA4B,wBAAwB,0BAA0B,6BAA6B,KAAK,oCAAoC,sBAAsB,KAAK,iBAAiB,4BAA4B,oBAAoB,wBAAwB,yBAAyB,0BAA0B,2BAA2B,wBAAwB,KAAK,uBAAuB,sCAAsC,KAAK,wBAAwB,sCAAsC,KAAK,+CAA+C,mBAAmB,uBAAuB,4BAA4B,SAAS,KAAK,8CAA8C,mBAAmB,uBAAuB,4BAA4B,SAAS,KAAK,8CAA8C,mBAAmB,uBAAuB,4BAA4B,SAAS,KAAK,8CAA8C,mBAAmB,uBAAuB,2BAA2B,SAAS,gBAAgB,4BAA4B,SAAS,KAAK,8CAA8C,mBAAmB,uBAAuB,2BAA2B,SAAS,KAAK,C;;;;;;;ACAxxE,2XAA2X,6DAA6D,eAAe,mBAAmB,iJAAiJ,eAAe,2EAA2E,eAAe,oB;;;;;;;;;;;;;;;;;;;ACAptB,8EAA8E;AAE9E,2DAAyB;AAEzB,+EAAuD;AAEvD,qBAAc,EAAE,CAAC;AAOjB;IASE,0BACU,UAAsB,EACtB,WAAwB;QADxB,eAAU,GAAV,UAAU,CAAY;QACtB,gBAAW,GAAX,WAAW,CAAa;QAT1B,aAAQ,GAAG;YACjB,EAAC,OAAO,EAAE,wEAAwE,EAAE,MAAM,EAAE,KAAK,EAAC;SACnG,CAAC;IAQE,CAAC;IAEL,mCAAQ,GAAR;QAAA,iBAMC;QALC,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;QACxF,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC,SAAS,CAAC,iBAAO;YACzE,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAC,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK,EAAC,CAAC,CAAC;YACtD,KAAI,CAAC,YAAY,EAAE,CAAC;QACtB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,sCAAW,GAAX,UAAY,KAAK;QACf,EAAE,CAAC,CAAC,KAAK,IAAE,EAAE,CAAC,CAAC,CAAC;YACd,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAC,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAC,CAAC,CAAC;YACrD,IAAI,CAAC,YAAY,EAAE,CAAC;YAEpB,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,GAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC7B,IAAI,GAAG,GAAG,IAAI,IAAI,EAAE,EAChB,OAAO,GAAG,aAAa,GAAC,GAAG,CAAC,QAAQ,EAAE,GAAC,GAAG,GAAC,GAAG,CAAC,UAAU,EAAE,GAAC,GAAG,GAAC,GAAG,CAAC,UAAU,EAAE,GAAC,OAAO,CAAC;gBAC7F,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAC,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK,EAAC,CAAC,CAAC;gBACtD,IAAI,CAAC,YAAY,EAAE,CAAC;YACtB,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACtC,IAAI,GAAG,GAAG,IAAI,IAAI,EAAE,EAChB,OAAO,GAAG,eAAe,GAAC,GAAG,CAAC,OAAO,EAAE,GAAC,GAAG,GAAC,CAAC,GAAG,CAAC,QAAQ,EAAE,GAAC,CAAC,CAAC,GAAC,GAAG,GAAC,GAAG,CAAC,WAAW,EAAE,GAAC,OAAO,CAAC;gBACjG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAC,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK,EAAC,CAAC,CAAC;gBACtD,IAAI,CAAC,YAAY,EAAE,CAAC;YACtB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC/B,CAAC;QACH,CAAC;IACH,CAAC;IACD,uCAAY,GAAZ;QACE,IAAI,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;QAC/D,EAAE,CAAC,OAAO,CAAC;YACT,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,SAAS,GAAG,YAAY,CAAC;QACrE,CAAC,EAAE,GAAG,CAAC,CAAC;IACV,CAAC;IAED,sCAAW,GAAX;QACE,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;IAClC,CAAC;IAnDU,gBAAgB;QAL5B,gBAAS,CAAC;YACT,QAAQ,EAAE,aAAa;;;SAGxB,CAAC;yCAWsB,iBAAU;YACT,0BAAW;OAXvB,gBAAgB,CAqD5B;IAAD,uBAAC;CAAA;AArDY,4CAAgB;;;;;;;;;;;;;;;;;;;;ACb7B,8EAA2C;AAE3C,4EAAuC;AAEvC,2FAAgD;AAGhD;IAOE;QALQ,UAAK,GAAG,kCAAkC,CAAC;QAC3C,WAAM,GAAG,IAAI,+BAAW,CAAC,EAAC,WAAW,EAAE,IAAI,CAAC,KAAK,EAAC,CAAC,CAAC;QAEpD,YAAO,GAAG,IAAI,iBAAO,EAAO,CAAC;IAErB,CAAC;IAEjB,0BAAI,GAAJ,UAAK,KAAK;QAAV,iBAYC;QAXC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC;aAC3B,IAAI,CAAC,kBAAQ;YACZ,EAAE,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,IAAE,EAAE,CAAC,CAAC,CAAC;gBAC3C,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,+CAA+C,CAAC,CAAC;YACrE,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;YACxD,CAAC;QACH,CAAC,CAAC;aACD,KAAK,CAAC,aAAG;YACR,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,aAAa;IACb,wCAAkB,GAAlB;QACE,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;IACrC,CAAC;IA1BU,WAAW;QADvB,iBAAU,EAAE;;OACA,WAAW,CA4BvB;IAAD,kBAAC;CAAA;AA5BY,kCAAW;;;;;;;;;;ACPxB,mFAAmF;AACnF,8FAA8F;AAC9F,yEAAyE;AACzE,gFAAgF;;AAEnE,mBAAW,GAAG;IACzB,UAAU,EAAE,KAAK;CAClB,CAAC;;;;;;;;;;;ACPF,8EAA+C;AAC/C,0IAA2E;AAE3E,kEAA6C;AAC7C,6EAAyD;AAEzD,EAAE,CAAC,CAAC,yBAAW,CAAC,UAAU,CAAC,CAAC,CAAC;IAC3B,qBAAc,EAAE,CAAC;AACnB,CAAC;AAED,iDAAsB,EAAE,CAAC,eAAe,CAAC,sBAAS,CAAC;KAChD,KAAK,CAAC,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAhB,CAAgB,CAAC,CAAC","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/$$_lazy_route_resource lazy\n// module id = ./src/$$_lazy_route_resource lazy recursive\n// module chunks = main","module.exports = \".app-container {\\r\\n    width: 100%;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = ./src/app/app.component.css\n// module chunks = main","module.exports = \"<div class=\\\"app-container\\\">\\n  <app-chatbot></app-chatbot>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = ./src/app/app.component.html\n// module chunks = main","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\n// Services\nimport { ChatService } from './services/chat.service';\n\n// Components\nimport { AppComponent } from './app.component';\nimport { ChatbotComponent } from './chatbot/chatbot.component';\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ChatbotComponent\n  ],\n  imports: [\n    BrowserModule\n  ],\n  providers: [\n    ChatService\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","module.exports = \".chat-app {\\r\\n    width: 40%;\\r\\n    margin: 0 30%;\\r\\n}\\r\\n\\r\\n.owner {\\r\\n    width: 100%;\\r\\n    text-align: end;\\r\\n    font-size: 10px;\\r\\n    font-weight: 600;\\r\\n}\\r\\n\\r\\n.title {\\r\\n    text-align: center;\\r\\n    color: #2095FE;\\r\\n    font-size: 64px;\\r\\n    margin-bottom: 10px;\\r\\n    font-weight: 600;\\r\\n}\\r\\n\\r\\n.tag {\\r\\n    font-weight: 600;\\r\\n    margin-top: 20px;\\r\\n    color: #363636;\\r\\n}\\r\\n\\r\\n.chat-container {\\r\\n    width: 100%;\\r\\n    min-height: calc(100vh - 325px);\\r\\n    max-height: calc(100vh - 325px);\\r\\n    overflow-x: hidden;\\r\\n    overflow-y: auto;\\r\\n    border: 3px solid #2095FE;\\r\\n    border-radius: 10px;\\r\\n}\\r\\n\\r\\n.message {\\r\\n    width: 60%;\\r\\n    font-size: 18px;\\r\\n    font-weight: 600;\\r\\n    border-radius: 20px;\\r\\n    padding: 12px 20px;\\r\\n    margin: 10px 10px;\\r\\n}\\r\\n\\r\\n.message.from {\\r\\n    float: left;\\r\\n    background: #E5E4E9;\\r\\n}\\r\\n\\r\\n.message.to {\\r\\n    float: right;\\r\\n    text-align: end;\\r\\n    background: #2095FE;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\ninput {\\r\\n    width: calc(100% - 27px);\\r\\n    border: 3px solid #2095FE;\\r\\n    border-radius: 10px;\\r\\n    font-size: 18px;\\r\\n    padding: 8px 14px;\\r\\n    margin: 8px 0 15px 0;\\r\\n}\\r\\n\\r\\ntextarea:focus, input:focus{\\r\\n    outline: none;\\r\\n}\\r\\n\\r\\n.button {\\r\\n    background: #2095FE;\\r\\n    color: #fff;\\r\\n    font-size: 18px;\\r\\n    font-weight: 600;\\r\\n    padding: 8px 15px;\\r\\n    border-radius: 5px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.button:hover {\\r\\n    background: rgb(41, 143, 231);\\r\\n}\\r\\n\\r\\n.button:active {\\r\\n    background: rgb(38, 114, 180);\\r\\n}\\r\\n\\r\\n@media screen and (max-width: 1100px) {\\r\\n    .chat-app {\\r\\n        width: 55%;\\r\\n        margin: 0 22.5%;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media screen and (max-width: 900px) {\\r\\n    .chat-app {\\r\\n        width: 65%;\\r\\n        margin: 0 17.5%;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media screen and (max-width: 700px) {\\r\\n    .chat-app {\\r\\n        width: 75%;\\r\\n        margin: 0 12.5%;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media screen and (max-width: 500px) {\\r\\n    .chat-app {\\r\\n        width: 85%;\\r\\n        margin: 0 7.5%;\\r\\n    }\\r\\n    .title {\\r\\n        font-size: 56px;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media screen and (max-width: 400px) {\\r\\n    .chat-app {\\r\\n        width: 95%;\\r\\n        margin: 0 2.5%;\\r\\n    }\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/chatbot/chatbot.component.css\n// module id = ./src/app/chatbot/chatbot.component.css\n// module chunks = main","module.exports = \"<div class=\\\"chat-app\\\">\\n  <div class=\\\"owner\\\">\\n    By <a href=\\\"https://www.facebook.com/sarun.seepun\\\" target=\\\"_blank\\\">S.Seepun</a>\\n    version 0.1\\n  </div>\\n  <div class=\\\"title\\\">Chat Bot</div>\\n\\n  <div class=\\\"chat-container\\\" id=\\\"chat-container\\\">\\n    <ng-container *ngFor=\\\"let message of messages\\\">\\n      <div class=\\\"message\\\" [ngClass]=\\\"{'from': message.sentBy==='bot', 'to':message.sentBy==='user'}\\\">\\n        {{ message.content }}\\n      </div>\\n    </ng-container>\\n  </div>\\n\\n  <div class=\\\"tag\\\">Your Message</div>\\n  <input #talk (keyup.enter)=\\\"sendMessage(talk.value); talk.value='';\\\" type=\\\"text\\\">\\n  <a class=\\\"button\\\" (click)=\\\"sendMessage(talk.value); talk.value='';\\\">Send</a>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/chatbot/chatbot.component.html\n// module id = ./src/app/chatbot/chatbot.component.html\n// module chunks = main","import { Component, OnInit, ElementRef, enableProdMode } from '@angular/core';\nimport { Subscription } from 'rxjs/Subscription';\nimport * as d3 from 'd3';\n\nimport { ChatService } from '../services/chat.service';\n\nenableProdMode();\n\n@Component({\n  selector: 'app-chatbot',\n  templateUrl: './chatbot.component.html',\n  styleUrls: ['./chatbot.component.css']\n})\nexport class ChatbotComponent implements OnInit {\n\n  private messages = [\n    {content: 'ยินดีต้อนรับครับ ผมคือ chat bot ที่มาจาก DialogFlow มีอะไรถามผมได้ครับ', sentBy: 'bot'}\n  ];\n  private subscription: Subscription;\n\n  private chatContainer;\n\n  constructor(\n    private elementRef: ElementRef,\n    private chatService: ChatService\n  ) { }\n\n  ngOnInit() {\n    this.chatContainer = d3.select(this.elementRef.nativeElement).select('.chat-container');\n    this.subscription = this.chatService.observeBotResponse().subscribe(content=>{\n      this.messages.push({content: content, sentBy: 'bot'});\n      this.scrollBottom();\n    });\n  }\n\n  sendMessage(query) {\n    if (query!='') {\n      this.messages.push({content: query, sentBy: 'user'});\n      this.scrollBottom();\n\n      if (query.indexOf('เวลา')>-1) {\n        let now = new Date(),\n            content = 'ตอนนี้เวลา '+now.getHours()+':'+now.getMinutes()+':'+now.getSeconds()+' ครับ';\n        this.messages.push({content: content, sentBy: 'bot'});\n        this.scrollBottom();\n      } else if (query.indexOf('วันที่')>-1) {\n        let now = new Date(),\n            content = 'วันนี้วันที่ '+now.getDate()+'/'+(now.getMonth()+1)+'/'+now.getFullYear()+' ครับ';\n        this.messages.push({content: content, sentBy: 'bot'});\n        this.scrollBottom();\n      } else {\n        this.chatService.talk(query);\n      }\n    }\n  }\n  scrollBottom() {\n    let scrollheight = this.chatContainer.property(\"scrollHeight\");\n    d3.timeout(()=>{\n      document.getElementById('chat-container').scrollTop = scrollheight;\n    }, 100);\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/chatbot/chatbot.component.ts","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs/Subject';\n\nimport { ApiAiClient } from \"api-ai-javascript\";\n\n@Injectable()\nexport class ChatService {\n\n  private token = '7089027a8ba24f398de7b243469b2bcb';\n  private client = new ApiAiClient({accessToken: this.token});\n\n  private subject = new Subject<any>();\n\n  constructor() { }\n\n  talk(query) {\n    this.client.textRequest(query)\n      .then(response=>{\n        if (response.result.fulfillment.speech=='') {\n          this.subject.next('ขอโทษครับ ตอนนี้ผมยังไม่เข้าใจที่คุณถามนะครับ');\n        } else {\n          this.subject.next(response.result.fulfillment.speech);\n        }\n      })\n      .catch(err=>{\n        this.subject.next(err);\n      });\n  }\n\n  // Observable\n  observeBotResponse(): Observable<any> {\n    return this.subject.asObservable();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/chat.service.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts"],"sourceRoot":"webpack:///"}